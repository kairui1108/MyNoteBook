# 设计原则

设计原则是编写代码时，应当遵守的原则，是设计模式的基础（设计模式为什么这样设计的依据）

**设计原则核心**

- 找出应用中可能需要变化之处，将他们独立出来，不要和那些不需要变化的代码混在一起
- 针对接口编程，而不是针对实现编程
- 为了交互对象间的松耦合设计而努力

## 1.单一职责原则

对类来说，一个类只负责一项职责

- 降低类的复杂度，一个类只负责一项职责
- 提高类的可读性，可维护性
- 降低变更引起的风险
- 通常情况下，都应遵守单一职责原则，类中方法足够少时，可以在方法级别保持单一职责

## 2.接口隔离原则

一个类对于另一个类的依赖应该建立在***最小的接口***上，客户端不应该依赖它不需要的接口

## 3.依赖倒转原则

Dependence Inversion Principle

- 高层模块不应该依赖低层模块，二者都应该依赖其抽象

- 抽象不应该依赖细节，**细节应该依赖抽象**

- 依赖倒转的中心思想是面向接口编程

- 依赖倒转原则是基于这样的设计理念：相对于细节的多变性，抽象的东西要稳定，以抽象为基础的架构比以细节为基础的架构要稳定。

  > 在Java中，抽象指的是接口或抽象类，细节就是具体的实现类

- 使用接口或抽象类的目的是制定规范，不涉及具体操作，细节交由实现类完成

- 注意事项

  1.  低层模块尽量都有抽象类或接口
  2.  变量类型声明尽量是抽象类或接口，利于扩展和优化
  3.  继承时应遵循里氏替换原则

## 4.里氏替换原则

- 所有引用基类的地方必须能透明的使用其子类的对象
- 使用继承时，在子类中尽量不重写父类的方法
- 继承实际上增强了两个类的耦合性，适当情况下，可以通过聚合，组合，依赖来解决问题

## 5.开闭原则

Open Closed Principle 是编程中最基础的、最重要的设计原则，编程中遵循其他原则，以及使用设计模式的目的就是遵循开闭原则

- 一个软件实体如类，模块和函数应该对扩展开放（提供方），对修改关闭（使用者）
- 用抽象构建框架，用实现扩展函数
- 软件需要变化时，应通过扩展软件实体的行为来实现变化，而不是修改已有的代码来实现变化

## 6.迪米特法则

Demeter Principle 又叫最少知道原则，即一个类对于自己依赖的类知道的越少越好，也就是说，对于被依赖的类不管多么复杂，都尽量将逻辑封装在类的内部，对外除了提供public方法，不对外泄露任何信息

- 一个对象应该对其他对象保持最少的了解

- 类与类关系越密切，耦合度越大，迪米特法则的核心就是降低类之间的耦合

- 只与直接朋友通信

  > 直接朋友：每个对象都会与其他的对象有耦合关系，只要两个对象间有耦合关系，这两个对象就有朋友关系。耦合的方式有很多种，依赖，关联，组合，聚合等。其中，出现在成员变量，方法参数，方法返回值中的类为直接的朋友，而出现在局部变量中的类不是直接朋友，也就是说，**陌生的类不要以局部变量的形式出现在类的内部**。

## 7.合成复用原则

- 尽量使用合成/聚合的方式，而不是使用继承



